@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====== Fondasi stabil & anti autosize ====== */
:root { color-scheme: dark; }
/* ruang cadangan bawah kanvas agar panel tidak saling tindih */
:root { --canvas-reserve: 280px; }

html, body, #root { height: var(--app-vh, 100svh); min-height: var(--app-vh, 100svh); }
body { min-height: var(--app-vh, 100svh); }
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
* { -webkit-tap-highlight-color: transparent; }
input, select, textarea, button { font-size: 16px; } /* cegah auto-zoom fokus */

@media (max-width: 640px) {
  :root { --canvas-reserve: 230px; }
}
@media (min-width: 1280px) {
  :root { --canvas-reserve: 320px; }
}

/* Saat OS paksa high-contrast, jangan dibalik warnanya */
@media (forced-colors: active) {
  * { forced-color-adjust: none; }
  body { background: #0b0b12 !important; color: #e9e9f8 !important; }
}

/* ====== Aurora premium (vivid & sinkron) ====== */
body{
  --bg1:#07070b;
  --bg2:#0b0b14;
  --aur1: rgba(168,85,247,.28);  /* violet */
  --aur2: rgba(34,211,238,.22);  /* cyan */
  --aur3: rgba(236,72,153,.22);  /* pink */

  background:
    radial-gradient(1200px 820px at 18% -10%, var(--aur1), transparent 40%),
    radial-gradient(980px 680px at 108% 12%, var(--aur2), transparent 45%),
    radial-gradient(900px 600px at -10% 96%, var(--aur3), transparent 50%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  background-attachment: fixed;
  color:#e8e8f6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Komponen glassy */
.card{
  @apply rounded-2xl border border-white/10 p-4;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  backdrop-filter: blur(10px);
}
.card-tight{
  @apply rounded-xl border border-white/10 p-3;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  backdrop-filter: blur(8px);
}
.btn{ @apply rounded-md border border-white/15 px-3 py-1; }

/* ===== Aurora button (global, termasuk tombol Sign in header/gate) ===== */
@keyframes auroraMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.btn-primary,
.btn-aurora{
  position: relative;
  border: 0;
  color: #fff;
  font-weight: 600;
  background: linear-gradient(135deg,#a78bfa 0%, #7c3aed 35%, #db2777 70%, #a78bfa 100%);
  background-size: 200% 200%;
  animation: auroraMove 8s ease infinite;
  box-shadow:
    0 0 32px rgba(167, 139, 250, .35),
    inset 0 0 18px rgba(167, 139, 250, .25);
  transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}
.btn-primary::before,
.btn-aurora::before{
  content:"";
  position:absolute; inset:-3px;
  border-radius: inherit;
  background:
    radial-gradient(60% 140% at 20% 30%, rgba(167,139,250,.55), transparent 60%),
    radial-gradient(80% 160% at 80% 70%, rgba(236,72,153,.45), transparent 60%);
  filter: blur(14px);
  z-index:-1;
  opacity:.7;
  transition: opacity .2s ease;
}
.btn-primary:hover,
.btn-aurora:hover{
  transform: translateY(-1px);
  box-shadow:
    0 0 42px rgba(167, 139, 250, .45),
    inset 0 0 20px rgba(167, 139, 250, .3);
  filter: saturate(1.1);
}
.btn-primary:hover::before,
.btn-aurora:hover::before{ opacity: .95; }
.btn-primary:focus-visible,
.btn-aurora:focus-visible{
  outline: none;
  box-shadow:
    0 0 0 2px rgba(255,255,255,.2),
    0 0 0 6px rgba(167,139,250,.35);
}
.btn-aurora--sm{ @apply px-3 py-1 rounded-full text-sm; }

.metric     { @apply text-[11px] uppercase tracking-wide text-zinc-400; }
.metric-xl  { @apply text-2xl font-bold; }

/* Tooltip Recharts agar kontras */
.recharts-default-tooltip {
  background: rgba(0,0,0,.86) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
  color: #e8e8f6 !important;
}

/* Sedikit stabilisasi scroll/gesture */
body { overscroll-behavior: contain; }
