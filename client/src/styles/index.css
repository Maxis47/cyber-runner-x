@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====== Fondasi stabil & anti autosize ====== */
:root { color-scheme: dark; }
html, body, #root { height: 100%; min-height: 100%; }
body { min-height: var(--app-vh, 100vh); }
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
* { -webkit-tap-highlight-color: transparent; }

/* Saat OS paksa high-contrast, jangan dibalik warnanya */
@media (forced-colors: active) {
  * { forced-color-adjust: none; }
  body { background: #0b0b12 !important; color: #e9e9f8 !important; }
}

/* ====== Palet & aurora dasar (tetap) ====== */
body{
  --bg1:#07070b;
  --bg2:#0b0b14;
  --aur1: rgba(168,85,247,.28);  /* violet */
  --aur2: rgba(34,211,238,.22);  /* cyan */
  --aur3: rgba(236,72,153,.22);  /* pink */

  background:
    radial-gradient(1200px 820px at 18% -10%, var(--aur1), transparent 40%),
    radial-gradient(980px 680px at 108% 12%, var(--aur2), transparent 45%),
    radial-gradient(900px 600px at -10% 96%, var(--aur3), transparent 50%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  background-attachment: fixed;
  color:#e8e8f6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overscroll-behavior: contain;
}

/* ====== AURORA PREMIUM: dua lapis glow animasi, GPU-friendly ====== */
body::before,
body::after{
  content:"";
  position: fixed;
  inset:-25%;
  pointer-events:none;
  z-index:-1;
  filter: blur(64px);
  opacity:.42;
  will-change: transform, opacity;
}
body::before{
  background:
    radial-gradient(600px 420px at 12% 10%, rgba(139,92,246,.40), transparent 50%),
    radial-gradient(680px 520px at 88% 22%, rgba(6,182,212,.32), transparent 55%),
    radial-gradient(600px 520px at 50% 110%, rgba(236,72,153,.28), transparent 55%);
  animation: auroraMove1 20s ease-in-out infinite alternate;
}
body::after{
  background:
    radial-gradient(560px 460px at 20% 80%, rgba(236,72,153,.30), transparent 55%),
    radial-gradient(620px 420px at 92% 70%, rgba(139,92,246,.34), transparent 55%);
  opacity:.34;
  animation: auroraMove2 26s ease-in-out infinite alternate;
}
@keyframes auroraMove1{
  0%   { transform: translate3d(-2%, -1%, 0) rotate(0.2deg); }
  50%  { transform: translate3d(1%, 1.5%, 0) rotate(-0.2deg); }
  100% { transform: translate3d(2%, -1%, 0) rotate(0deg); }
}
@keyframes auroraMove2{
  0%   { transform: translate3d(1%, 1%, 0) scale(1); }
  100% { transform: translate3d(-1%, -1%, 0) scale(1.02); }
}

/* ====== Glassmorphism cards + glow premium ====== */
.card{
  @apply rounded-2xl border border-white/10 p-4;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  backdrop-filter: blur(10px);
  position: relative;
  overflow: hidden;
  animation: floatIn .6s ease both;
}
.card-tight{
  @apply rounded-xl border border-white/10 p-3;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
  backdrop-filter: blur(8px);
  position: relative;
  overflow: hidden;
  animation: floatIn .6s ease both;
}
/* ring glow tipis di tepi (hemat performa, tanpa repaint berat) */
.card::after,
.card-tight::after{
  content:"";
  position:absolute; inset:-1px;
  border-radius: inherit;
  background: conic-gradient(
    from 0deg,
    rgba(139,92,246,.28),
    rgba(6,182,212,.28),
    rgba(236,72,153,.28),
    rgba(139,92,246,.28)
  );
  filter: blur(18px);
  opacity:.18;
  pointer-events:none;
  z-index:-1;
}

/* ====== Tombol premium (animasi gradasi aurora) ====== */
.btn{ @apply rounded-md border border-white/15 px-3 py-1; }
.btn-primary{
  @apply rounded-md px-3 py-1 font-medium;
  color: #fff;
  background: linear-gradient(90deg,#8b5cf6,#06b6d4,#ec4899,#8b5cf6);
  background-size: 200% 100%;
  box-shadow: 0 0 28px rgba(139,92,246,.22), 0 0 24px rgba(6,182,212,.16) inset;
  animation: gradientShift 9s ease-in-out infinite;
  transition: transform .18s ease, box-shadow .18s ease, filter .18s ease;
  will-change: transform, box-shadow;
}
.btn-primary:hover{
  transform: translateY(-1px);
  box-shadow:
    0 8px 30px rgba(139,92,246,.30),
    0 0 0 1px rgba(255,255,255,.12) inset;
  filter: saturate(110%);
}
.btn-primary:active{ transform: translateY(0); filter: saturate(120%); }
@keyframes gradientShift{
  0% { background-position: 0% 50%; }
  50%{ background-position: 100% 50%; }
  100%{ background-position: 0% 50%; }
}

/* ====== Metric & judul lebih crisp ====== */
.metric     { @apply text-[11px] uppercase tracking-wide text-zinc-400; }
.metric-xl  { @apply text-2xl font-bold; text-shadow: 0 2px 24px rgba(139,92,246,.25); }

/* Tooltip Recharts agar kontras */
.recharts-default-tooltip {
  background: rgba(0,0,0,.86) !important;
  border: 1px solid rgba(255,255,255,.12) !important;
  color: #e8e8f6 !important;
}

/* ====== Animasi masuk halus untuk elemen utama ====== */
@keyframes floatIn{
  from{ opacity:0; transform: translate3d(0,10px,0) scale(.98); }
  to  { opacity:1; transform: translate3d(0,0,0)   scale(1); }
}
.card, .card-tight,
canvas, .btn, .recharts-wrapper{
  animation: floatIn .6s ease both;
}

/* ====== Scrollbar custom (WebKit) ====== */
*::-webkit-scrollbar{ width: 10px; height: 10px; }
*::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg,#8b5cf6,#06b6d4);
  border-radius: 10px;
  border: 2px solid rgba(0,0,0,.25);
}
*::-webkit-scrollbar-track{
  background: rgba(255,255,255,.05);
}

/* ====== Prefers reduced motion: matikan animasi berat ====== */
@media (prefers-reduced-motion: reduce){
  body::before, body::after{ animation: none !important; }
  .btn-primary{ animation: none !important; }
  .card, .card-tight, canvas, .btn, .recharts-wrapper{ animation: none !important; }
}
